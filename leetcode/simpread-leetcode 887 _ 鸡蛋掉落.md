> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 https://www.jianshu.com/p/c1496fd30713?utm_campaign=maleskine&utm_content=note&utm_medium=seo_notes&utm_source=recommendation

题目：

你将获得 `K` 个鸡蛋，并可以使用一栋从 `1` 到 `N` 共有 `N` 层楼的建筑。

每个蛋的功能都是一样的，如果一个蛋碎了，你就不能再把它掉下去。

你知道存在楼层 `F` ，满足 `0 <= F <= N` 任何从高于 `F` 的楼层落下的鸡蛋都会碎，从 `F` 楼层或比它低的楼层落下的鸡蛋都不会破。

每次_移动_，你可以取一个鸡蛋（如果你有完整的鸡蛋）并把它从任一楼层 `X` 扔下（满足 `1 <= X <= N`）。

你的目标是**确切地**知道 `F` 的值是多少。

无论 `F` 的初始值如何，你确定 `F` 的值的最小移动次数是多少？

**示例 1：**

输入：K = 1, N = 2
输出：2
解释：
鸡蛋从 1 楼掉落。如果它碎了，我们肯定知道 F = 0 。
否则，鸡蛋从 2 楼掉落。如果它碎了，我们肯定知道 F = 1 。
如果它没碎，那么我们肯定知道 F = 2 。
因此，在最坏的情况下我们需要移动 2 次以确定 F 是多少。

**示例 2：**

输入：K = 2, N = 6
输出：3

**示例 3：**

输入：K = 3, N = 14
输出：4

**提示：**

1.  `1 <= K <= 100`

2.  `1 <= N <= 10000`

当时写这个题目的时候，第一个想法就是二分法。但是仔细想想，这是不太对的。

因为当二分时候有两种情况：一是蛋碎了，二是蛋没碎。K 是动态的，并不是死的，所以这是不可靠的。

![](http://upload-images.jianshu.io/upload_images/15175946-02fa8b803ec37069.jpg) code_1.jpg

很明显，这是不能使用二分的。（其实可以使用动态规划的二分）

## 一：最优解

那么我们要怎么解决呢？首先换个思路来想：我们可以求 K 个鸡蛋在 M 步内能测量出多少层楼层。

按照上面的图来想：我们在 x 层扔出鸡蛋的时候是有两种情况的

1.  在 x 层碎了，那么我们就做了一次移动。

    2\. 在 x 层没有碎，我们也做出了一次移动。

在第一种情况里，X 至 N 层已经被确定了大于 F，所以在这一次确定了 N-X 层。此时测出来的就是 N-X + dp [K-1] [M-1] 层

而第二种情况呢，没有碎，我们则可以确定 X 层以下是小于 F 的，那么我们就确定了 X 层，则此时可测量层数为 X+dp[K] [M-1] 层。

这个时候我们最多能测量出 d[K] [M]= dp [K-1] [M-1]（碎了能确定的最大层数）+ dp[K] [M-1]（没碎时能确定的最大层数） + 1（本层）